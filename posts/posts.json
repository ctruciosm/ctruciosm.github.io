[
  {
    "path": "posts/2021-07-27-criando-relatorios-no-rstudio/",
    "title": "Criando relatorios no Rstudio",
    "description": "Escrever relat√≥rios cient√≠ficos pode ser um trabalho tedioso, mas existem formas que deixam o trabalho um pouco mais prazeroso. Uma delas √© o Rmarkdown, que nos ajuda a escrever relat√≥rios de forma f√°cil e com uma apresenta√ß√£o mais profissional (al√©m de permitir incluir c√≥digo, figuras e tabelas diretamente do R).  Neste post explicarei os primeiros passos para fazer relat√≥rios com o Rstudio.",
    "author": [
      {
        "name": "Carlos Truc√≠os",
        "url": "https://ctruciosm.github.io"
      }
    ],
    "date": "2021-07-27",
    "categories": [
      "Rstudio",
      "Rmarkdown",
      "Latex",
      "Relatorios",
      "rstats"
    ],
    "contents": "\n\nContents\nIntrodu√ß√£o\nConfigura√ß√£o\nPrimeiros passos\n\n\n\n\nIntrodu√ß√£o\nEscrever relat√≥rios e artigos cient√≠ficos s√£o tarefas que fazem parte da vida de todo pesquisador. Alguns preferem utilizar word, que √© um editor de texto amplamente conhecido. J√° outros, como eu, preferem utilizar que nos permite escrever f√≥rmulas matem√°ticas de forma f√°cil e elegante.\nContudo, essas duas op√ß√µes n√£o s√£o as √∫nicas no mercado. Se voc√™ gostar do R/Rstudio, quer utilizar um formato elegante, quer a flexibilidade de trocar entre pdf e word facilmente e ainda quer facilitar sua vida editando tabelas e gr√°ficos‚Ä¶ voc√™ precisa utilizar o Rmarkdown! üï∫.\nConfigura√ß√£o\nPara poder fazer os relat√≥rios, precisa de configurar o Rstudio primeiro. Se nunca fez isto antes, leia este post aqui\nPrimeiros passos\nUma vez configurado o Rstudio, assista este video onde explico passo a passo como fazer os relat√≥rios.\n\nComo pode ver, a forma de escrever √© muito f√°cil e simples, basta escrever da mesma forma que escrevemos em qulquer editor de texto e incluir alguns pequenos detalhes para aquelas coisas que s√£o um pouco mais complexas.\nRecomendo que imprima e tenha sempre por perto o seguinte Cheat Sheet, que √© um resumo das coisas b√°sicas que precisa saber para fazer seus relat√≥rios. Se precisar de coisas mais avan√ßadas, tem esse outro Cheat Sheet que pode lhe ajudar. Para uma guia completa do Rmarkdown, entre aqui.\n\nEm um pr√≥ximo post explicarei algumas outras coisas (incluir c√≥digo, figuras, tabelas, etc).\n\nHappy Coding!\n\n\n\n",
    "preview": "posts/2021-07-27-criando-relatorios-no-rstudio/rmarkdown.png",
    "last_modified": "2021-07-27T12:17:31-03:00",
    "input_file": {},
    "preview_width": 400,
    "preview_height": 257
  },
  {
    "path": "posts/2021-07-24-utilizando-o-r-para-ler-tabelas-em-pdf/",
    "title": "Utilizando o R para ler tabelas em PDF",
    "description": "√â poss√≠vel trazer para o R dados/tabelas vindos de um arquivo em PDF?  Neste post eu compartilho minha experi√™ncia com o pacote `tabulizer`, que nos ajudar√° a extrair tabelas em PDF e import√°-las como _datasets_ no R.",
    "author": [
      {
        "name": "Carlos Truc√≠os",
        "url": "https://ctruciosm.github.io"
      }
    ],
    "date": "2021-07-24",
    "categories": [
      "Rstudio",
      "Git",
      "GitHub",
      "rstats"
    ],
    "contents": "\n\nContents\nIntrodu√ß√£o\nConfigura√ß√£o\nExtraindo a tabela do PDF\nComent√°rios finais\n\n\n\n\nIntrodu√ß√£o\nRecentemente, alguns alun@s me perguntaram se era poss√≠vel importar no R dados vindos de um arquivo PDF. Honestamente, nunca tive a necessidade de fazer isso, mas sabia que certamente existia algum pacote para isso no R.\nPesquisando pela internet encontrei algumas op√ß√µes, entre elas, o pacote tabulizer (Leeper 2018).\nConfigura√ß√£o\nO processo de extra√ß√£o ser√° feito com o pacote tabulizer, que precisa do pacote rJava, que por sua vez, precisa ter o JDK (Java Developer Kit) instalado.\nPara instalar o necess√°rio, siga os seguintes passos:\nInstalar o Java Developer Kit (Link para baixar aqui)\nPara usu√°rios do Mac, digitar no terminal sudo R CMD javareconf (se voc√™ utilizar windos, talvez este post ajude)\nInstalar no R os pacotes rJava, tabulizerjars e tabulizer,\n\n\ninstall.packages(\"rJava\")\ninstall.packages(\"tabulizerjars\")\ninstall.packages(\"tabulizer\")\n\n\n\nExtraindo a tabela do PDF\nAp√≥s a configura√ß√£o, carregamos os pacotes rJava, tabulizerjars e tabulizer no R. Se a configura√ß√£o anterior foi bem sucedida, os pacotes carregar√£o sem nenhum problema.\n\n\nlibrary(rJava)\nlibrary(tabulizerjars)\nlibrary(tabulizer)\n\n\n\nPara extrair as tabelas, utilizaremos a fun√ß√£o extract_tables(). Por padr√£o, esta fun√ß√£o tem o argumento guess = TRUE o que significa que a fun√ß√£o vai adivinhar a localiza√ß√£o da tabela no PDF (mas se quisermos ser mais espec√≠ficos, teremos que mudar alguns dos par√¢metros. Para mais detalhes ver help(extract_tables)).\nA maneira de exemplo, utilizaremos o seguinte PDF e para importar os dados contidos nas tabelas, utilizaremos os seguintes comandos.\n\n\nendereco_arquivo <- \"https://www.math.arizona.edu/~jwatkins/normal-table.pdf\"\ntabelas <- extract_tables(file   = endereco_arquivo, output = \"data.frame\")\n\n\n\nNote que o objeto tabelas √© uma lista com dois elementos, um por cada tabela.\n\n\nclass(tabelas)\n\n\n[1] \"list\"\n\nlength(tabelas)\n\n\n[1] 2\n\nSe quisermos acessar a alguma das tabelas, basta fazer\n\n\nlibrary(dplyr)\nlibrary(purrr)\ntabelas %>% pluck(1) %>% as_tibble()  # Primeira tabela\n\n\n# A tibble: 35 x 11\n       z  X0.00  X0.01  X0.02  X0.03  X0.04  X0.05  X0.06  X0.07\n   <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>\n 1  -3.4 0.0003 0.0003 0.0003 0.0003 0.0003 0.0003 0.0003 0.0003\n 2  -3.3 0.0005 0.0005 0.0005 0.0004 0.0004 0.0004 0.0004 0.0004\n 3  -3.2 0.0007 0.0007 0.0006 0.0006 0.0006 0.0006 0.0006 0.0005\n 4  -3.1 0.001  0.0009 0.0009 0.0009 0.0008 0.0008 0.0008 0.0008\n 5  -3   0.0013 0.0013 0.0013 0.0012 0.0012 0.0011 0.0011 0.0011\n 6  -2.9 0.0019 0.0018 0.0018 0.0017 0.0016 0.0016 0.0015 0.0015\n 7  -2.8 0.0026 0.0025 0.0024 0.0023 0.0023 0.0022 0.0021 0.0021\n 8  -2.7 0.0035 0.0034 0.0033 0.0032 0.0031 0.003  0.0029 0.0028\n 9  -2.6 0.0047 0.0045 0.0044 0.0043 0.0041 0.004  0.0039 0.0038\n10  -2.5 0.0062 0.006  0.0059 0.0057 0.0055 0.0054 0.0052 0.0051\n# ‚Ä¶ with 25 more rows, and 2 more variables: X0.08 <dbl>, X0.09 <dbl>\n\ntabelas %>% pluck(2) %>% as_tibble()  # Segunda tabela\n\n\n# A tibble: 35 x 11\n       z X0.00 X0.01 X0.02 X0.03 X0.04 X0.05 X0.06 X0.07 X0.08 X0.09\n   <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>\n 1   0   0.5   0.504 0.508 0.512 0.516 0.520 0.524 0.528 0.532 0.536\n 2   0.1 0.540 0.544 0.548 0.552 0.556 0.560 0.564 0.568 0.571 0.575\n 3   0.2 0.579 0.583 0.587 0.591 0.595 0.599 0.603 0.606 0.610 0.614\n 4   0.3 0.618 0.622 0.626 0.629 0.633 0.637 0.641 0.644 0.648 0.652\n 5   0.4 0.655 0.659 0.663 0.666 0.67  0.674 0.677 0.681 0.684 0.688\n 6   0.5 0.692 0.695 0.698 0.702 0.705 0.709 0.712 0.716 0.719 0.722\n 7   0.6 0.726 0.729 0.732 0.736 0.739 0.742 0.745 0.749 0.752 0.755\n 8   0.7 0.758 0.761 0.764 0.767 0.770 0.773 0.776 0.779 0.782 0.785\n 9   0.8 0.788 0.791 0.794 0.797 0.800 0.802 0.805 0.808 0.811 0.813\n10   0.9 0.816 0.819 0.821 0.824 0.826 0.829 0.832 0.834 0.836 0.839\n# ‚Ä¶ with 25 more rows\n\nou equivalentemente (sem utilizar o tidyway)\n\n\ntabelas[[1]]   # Primeira tabela\n\n\n      z  X0.00  X0.01  X0.02  X0.03  X0.04  X0.05  X0.06  X0.07\n1  -3.4 0.0003 0.0003 0.0003 0.0003 0.0003 0.0003 0.0003 0.0003\n2  -3.3 0.0005 0.0005 0.0005 0.0004 0.0004 0.0004 0.0004 0.0004\n3  -3.2 0.0007 0.0007 0.0006 0.0006 0.0006 0.0006 0.0006 0.0005\n4  -3.1 0.0010 0.0009 0.0009 0.0009 0.0008 0.0008 0.0008 0.0008\n5  -3.0 0.0013 0.0013 0.0013 0.0012 0.0012 0.0011 0.0011 0.0011\n6  -2.9 0.0019 0.0018 0.0018 0.0017 0.0016 0.0016 0.0015 0.0015\n7  -2.8 0.0026 0.0025 0.0024 0.0023 0.0023 0.0022 0.0021 0.0021\n8  -2.7 0.0035 0.0034 0.0033 0.0032 0.0031 0.0030 0.0029 0.0028\n9  -2.6 0.0047 0.0045 0.0044 0.0043 0.0041 0.0040 0.0039 0.0038\n10 -2.5 0.0062 0.0060 0.0059 0.0057 0.0055 0.0054 0.0052 0.0051\n11 -2.4 0.0082 0.0080 0.0078 0.0075 0.0073 0.0071 0.0069 0.0068\n12 -2.3 0.0107 0.0104 0.0102 0.0099 0.0096 0.0094 0.0091 0.0089\n13 -2.2 0.0139 0.0136 0.0132 0.0129 0.0125 0.0122 0.0119 0.0116\n14 -2.1 0.0179 0.0174 0.0170 0.0166 0.0162 0.0158 0.0154 0.0150\n15 -2.0 0.0228 0.0222 0.0217 0.0212 0.0207 0.0202 0.0197 0.0192\n16 -1.9 0.0287 0.0281 0.0274 0.0268 0.0262 0.0256 0.0250 0.0244\n17 -1.8 0.0359 0.0351 0.0344 0.0336 0.0329 0.0322 0.0314 0.0307\n18 -1.7 0.0446 0.0436 0.0427 0.0418 0.0409 0.0401 0.0392 0.0384\n19 -1.6 0.0548 0.0537 0.0526 0.0516 0.0505 0.0495 0.0485 0.0475\n20 -1.5 0.0668 0.0655 0.0643 0.0630 0.0618 0.0606 0.0594 0.0582\n21 -1.4 0.0808 0.0793 0.0778 0.0764 0.0749 0.0735 0.0721 0.0708\n22 -1.3 0.0968 0.0951 0.0934 0.0918 0.0901 0.0885 0.0869 0.0853\n23 -1.2 0.1151 0.1131 0.1112 0.1093 0.1075 0.1056 0.1038 0.1020\n24 -1.1 0.1357 0.1335 0.1314 0.1292 0.1271 0.1251 0.1230 0.1210\n25 -1.0 0.1587 0.1562 0.1539 0.1515 0.1492 0.1469 0.1446 0.1423\n26 -0.9 0.1841 0.1814 0.1788 0.1762 0.1736 0.1711 0.1685 0.1660\n27 -0.8 0.2119 0.2090 0.2061 0.2033 0.2005 0.1977 0.1949 0.1922\n28 -0.7 0.2420 0.2389 0.2358 0.2327 0.2296 0.2266 0.2236 0.2206\n29 -0.6 0.2743 0.2709 0.2676 0.2643 0.2611 0.2578 0.2546 0.2514\n30 -0.5 0.3085 0.3050 0.3015 0.2981 0.2946 0.2912 0.2877 0.2843\n31 -0.4 0.3446 0.3409 0.3372 0.3336 0.3300 0.3264 0.3228 0.3192\n32 -0.3 0.3821 0.3783 0.3745 0.3707 0.3669 0.3632 0.3594 0.3557\n33 -0.2 0.4207 0.4168 0.4129 0.4090 0.4052 0.4013 0.3974 0.3936\n34 -0.1 0.4602 0.4562 0.4522 0.4483 0.4443 0.4404 0.4364 0.4325\n35  0.0 0.5000 0.4960 0.4920 0.4880 0.4840 0.4801 0.4761 0.4721\n    X0.08  X0.09\n1  0.0003 0.0002\n2  0.0004 0.0003\n3  0.0005 0.0005\n4  0.0007 0.0007\n5  0.0010 0.0010\n6  0.0014 0.0014\n7  0.0020 0.0019\n8  0.0027 0.0026\n9  0.0037 0.0036\n10 0.0049 0.0048\n11 0.0066 0.0064\n12 0.0087 0.0084\n13 0.0113 0.0110\n14 0.0146 0.0143\n15 0.0188 0.0183\n16 0.0239 0.0233\n17 0.0301 0.0294\n18 0.0375 0.0367\n19 0.0465 0.0455\n20 0.0571 0.0559\n21 0.0694 0.0681\n22 0.0838 0.0823\n23 0.1003 0.0985\n24 0.1190 0.1170\n25 0.1401 0.1379\n26 0.1635 0.1611\n27 0.1894 0.1867\n28 0.2177 0.2148\n29 0.2483 0.2451\n30 0.2810 0.2776\n31 0.3156 0.3121\n32 0.3520 0.3483\n33 0.3897 0.3859\n34 0.4286 0.4247\n35 0.4681 0.4641\n\ntabelas[[1]]   # Segunda tabela\n\n\n      z  X0.00  X0.01  X0.02  X0.03  X0.04  X0.05  X0.06  X0.07\n1  -3.4 0.0003 0.0003 0.0003 0.0003 0.0003 0.0003 0.0003 0.0003\n2  -3.3 0.0005 0.0005 0.0005 0.0004 0.0004 0.0004 0.0004 0.0004\n3  -3.2 0.0007 0.0007 0.0006 0.0006 0.0006 0.0006 0.0006 0.0005\n4  -3.1 0.0010 0.0009 0.0009 0.0009 0.0008 0.0008 0.0008 0.0008\n5  -3.0 0.0013 0.0013 0.0013 0.0012 0.0012 0.0011 0.0011 0.0011\n6  -2.9 0.0019 0.0018 0.0018 0.0017 0.0016 0.0016 0.0015 0.0015\n7  -2.8 0.0026 0.0025 0.0024 0.0023 0.0023 0.0022 0.0021 0.0021\n8  -2.7 0.0035 0.0034 0.0033 0.0032 0.0031 0.0030 0.0029 0.0028\n9  -2.6 0.0047 0.0045 0.0044 0.0043 0.0041 0.0040 0.0039 0.0038\n10 -2.5 0.0062 0.0060 0.0059 0.0057 0.0055 0.0054 0.0052 0.0051\n11 -2.4 0.0082 0.0080 0.0078 0.0075 0.0073 0.0071 0.0069 0.0068\n12 -2.3 0.0107 0.0104 0.0102 0.0099 0.0096 0.0094 0.0091 0.0089\n13 -2.2 0.0139 0.0136 0.0132 0.0129 0.0125 0.0122 0.0119 0.0116\n14 -2.1 0.0179 0.0174 0.0170 0.0166 0.0162 0.0158 0.0154 0.0150\n15 -2.0 0.0228 0.0222 0.0217 0.0212 0.0207 0.0202 0.0197 0.0192\n16 -1.9 0.0287 0.0281 0.0274 0.0268 0.0262 0.0256 0.0250 0.0244\n17 -1.8 0.0359 0.0351 0.0344 0.0336 0.0329 0.0322 0.0314 0.0307\n18 -1.7 0.0446 0.0436 0.0427 0.0418 0.0409 0.0401 0.0392 0.0384\n19 -1.6 0.0548 0.0537 0.0526 0.0516 0.0505 0.0495 0.0485 0.0475\n20 -1.5 0.0668 0.0655 0.0643 0.0630 0.0618 0.0606 0.0594 0.0582\n21 -1.4 0.0808 0.0793 0.0778 0.0764 0.0749 0.0735 0.0721 0.0708\n22 -1.3 0.0968 0.0951 0.0934 0.0918 0.0901 0.0885 0.0869 0.0853\n23 -1.2 0.1151 0.1131 0.1112 0.1093 0.1075 0.1056 0.1038 0.1020\n24 -1.1 0.1357 0.1335 0.1314 0.1292 0.1271 0.1251 0.1230 0.1210\n25 -1.0 0.1587 0.1562 0.1539 0.1515 0.1492 0.1469 0.1446 0.1423\n26 -0.9 0.1841 0.1814 0.1788 0.1762 0.1736 0.1711 0.1685 0.1660\n27 -0.8 0.2119 0.2090 0.2061 0.2033 0.2005 0.1977 0.1949 0.1922\n28 -0.7 0.2420 0.2389 0.2358 0.2327 0.2296 0.2266 0.2236 0.2206\n29 -0.6 0.2743 0.2709 0.2676 0.2643 0.2611 0.2578 0.2546 0.2514\n30 -0.5 0.3085 0.3050 0.3015 0.2981 0.2946 0.2912 0.2877 0.2843\n31 -0.4 0.3446 0.3409 0.3372 0.3336 0.3300 0.3264 0.3228 0.3192\n32 -0.3 0.3821 0.3783 0.3745 0.3707 0.3669 0.3632 0.3594 0.3557\n33 -0.2 0.4207 0.4168 0.4129 0.4090 0.4052 0.4013 0.3974 0.3936\n34 -0.1 0.4602 0.4562 0.4522 0.4483 0.4443 0.4404 0.4364 0.4325\n35  0.0 0.5000 0.4960 0.4920 0.4880 0.4840 0.4801 0.4761 0.4721\n    X0.08  X0.09\n1  0.0003 0.0002\n2  0.0004 0.0003\n3  0.0005 0.0005\n4  0.0007 0.0007\n5  0.0010 0.0010\n6  0.0014 0.0014\n7  0.0020 0.0019\n8  0.0027 0.0026\n9  0.0037 0.0036\n10 0.0049 0.0048\n11 0.0066 0.0064\n12 0.0087 0.0084\n13 0.0113 0.0110\n14 0.0146 0.0143\n15 0.0188 0.0183\n16 0.0239 0.0233\n17 0.0301 0.0294\n18 0.0375 0.0367\n19 0.0465 0.0455\n20 0.0571 0.0559\n21 0.0694 0.0681\n22 0.0838 0.0823\n23 0.1003 0.0985\n24 0.1190 0.1170\n25 0.1401 0.1379\n26 0.1635 0.1611\n27 0.1894 0.1867\n28 0.2177 0.2148\n29 0.2483 0.2451\n30 0.2810 0.2776\n31 0.3156 0.3121\n32 0.3520 0.3483\n33 0.3897 0.3859\n34 0.4286 0.4247\n35 0.4681 0.4641\n\ne pronto!, nossos dados do PDF est√£o agora no R!.\nComent√°rios finais\nSe voc√™ tiver uma vers√£o do JDK mais recente, provavelmemte o Rstudio vai travar quando tentar utilizar a fun√ß√£o extract_tables().\nPara corrigir o problema, basta desinstalar a vers√£o mais recente e instalar a vers√£o 11\nSe n√£o quiser desinstalar a vers√£o mais atual do JDK, instale a vers√£o 11 sem desinstalar a outra vers√£o e no terminal do R escreva\n\n\nSys.setenv(JAVA_HOME='/Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk/Contents/Home')\n\n\n\nem que /Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk √© o endere√ßo onde a vers√£o 11.0.12 foi instalada.\n\nNota: Ainda n√£o testei a fun√ß√£o com outras tabelas, ent√£o n√£o sei que t√£o bem funciona com tabelas mais complexas.\n\nHappy Coding!\n\n\n\nLeeper, Thomas J. 2018. Tabulizer: Bindings for Tabula PDF Table Extractor Library.\n\n\n\n\n",
    "preview": "posts/2021-07-24-utilizando-o-r-para-ler-tabelas-em-pdf/pexels-artem-podrez-6779714.jpg",
    "last_modified": "2021-07-24T21:55:19-03:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-06-18-criar-um-novo-projetorepo-no-rstudiogithub/",
    "title": "Criar um novo projeto/repo no Rstudio/GitHub",
    "description": "Passo a passo para criar um novo projeto no Rstudio e vincul√°-lo ao GitHub.",
    "author": [
      {
        "name": "Carlos Truc√≠os",
        "url": "https://ctruciosm.github.io"
      }
    ],
    "date": "2021-06-18",
    "categories": [
      "Rstudio",
      "Git",
      "GitHub",
      "rstats"
    ],
    "contents": "\n\nContents\nIntrodu√ß√£o\nPr√©-requisitos.\nCriando um novo projeto.\n\n\n\n\nIntrodu√ß√£o\nNo meu post anterior, falei um pouco de como configurar o Rstudio para ele estar vinculado ao nosso Github. Hoje explicarei como criar um novo projeto no Rstudio e vincul√°-lo ao GitHub (sem precisar clonar um reposit√≥rio existente como vimos no post anterior).\nPr√©-requisitos.\nTer sua conta do Git/GitHub configurada com o Rstudio.\nCriando um novo projeto.\nPara criar um novo projeto:\n\n\nusethis::create_project(\"/Volumes/CTRUCIOS_SD/Research/repo_teste\")\n\n\n\nrepare que /Volumes/CTRUCIOS_SD/Research/ √© o local onde quero criar o novo projeto e repo_teste √© o nome do novo projeto.\nAssim que rodar o c√≥digo acima, aparecer√° algo parecido com:\n\n\n\nLogo ap√≥s, o Rstudio abrir√° outra sess√£o com o novo projeto. Se n√£o abriu, v√° na pasta onde criou o projeto, no meu caso /Volumes/CTRUCIOS_SD/Research/, e encontrar√° uma pasta com o nome repo_teste onde encontrar√° o projeto do Rstudio (arquivo repo_teste.Rproj).\nNessa nova sess√£o do Rstudio, repare que o nome do novo projeto aparece no canto superior direito. (Aqui j√° pode fechar todas as outras sess√µes abertas do Rstudio e ficar apenas com a do nosso novo projeto).\n\n\n\nAgora precisamos vincular esse novo projeto ao Git/GitHub. Primeiro vincularemos o projetoco Git.\n\n\nusethis::use_git() \n\n\n\n\n\n\n\n\n\nUma vez vinculado o projeto ao Git, vinculamos ele ao GitHub.\n\n\nusethis::use_github()\n\n\n\n\n\n\nSe tudo de certo, v√° no teu Github e ter√° o reposit√≥rio l√°.\n\n\n\nPronto! Seu novo projeto foi criado, e vinculado com o Git/GitHub.\nHappy Coding!\n\n\n\n",
    "preview": "posts/2021-06-18-criar-um-novo-projetorepo-no-rstudiogithub/im/original.png",
    "last_modified": "2021-07-24T10:23:40-03:00",
    "input_file": {},
    "preview_width": 896,
    "preview_height": 896
  },
  {
    "path": "posts/2021-06-12-git-github-e-rstudio/",
    "title": "Git, GitHub e Rstudio",
    "description": "Tutorial de como configurar o Git/GitHub no Rstudio.",
    "author": [
      {
        "name": "Carlos Truc√≠os",
        "url": "https://ctruciosm.github.io"
      }
    ],
    "date": "2021-06-12",
    "categories": [
      "Rstudio",
      "rstats",
      "Git",
      "GitHub"
    ],
    "contents": "\n\nContents\nIntrodu√ß√£o\nPr√©-requisitos\nPrimeiros Passos\nIniciando a configura√ß√£o\nVinculando um reposit√≥rio ao Rstudio\nBonus: commit and push\n\nIntrodu√ß√£o\nSe voc√™ escreve c√≥digo (seja na linguagem que for) sabe que utilizar o Git/GitHub √© muito √∫til. Se voc√™ (assim como eu) gosta de usar o Rstudio, talvez esteja interessado(a) em configurar sua conta do Git no Rstudio.\nEsta configura√ß√£o √© algo que √© feito apenas uma √∫nica vez na vida (ok n√£o na vida, mas uma √∫nica vez por computador) e este tutorial vai te guiar no passo a passo.\nPr√©-requisitos\nAntes de come√ßar, existem algumas coisas que devemos fazer antes (caso ainda n√£o tenha feito):\nInstalar o R (Baixar aqui)\nInstalar o Rstudio (Baixar aqui)\nCriar uma conta no Github (criar conta aqui)\nInstalar o Git (Baixar aqui)\nPrimeiros Passos\nNo Rstudio instalar e carregar o pacote usethis\n\n\ninstall.packages(\"usethis\")\nlibrary(usethis)\n\n\n\nPara configurar sua conta do Git no Rstudio precisar√° de um nome de usu√°rio e do email utilizado na conta do Github.\n\n\nusethis::use_git_config(user.name = \"nome_usuario_aqui\", \n                        user.email = \"email_github_aqui@gmail.com\") \n\n\n\nIniciando a configura√ß√£o\nNo Rstudio escreva\n\n\nusethis::create_github_token()\n\n\n\nisto abrir√° no seu navegador algo mais ou menos assim:\n\n\n\nVoc√™ pode escrever o nome que voc√™ quiser (por exemplo RstudioNotebook, RstudioCasa, etc) mas recomendo que seja um nome que lhe ajude a lembrar para que esse token √© utilizado. Eu deixei todos os valores por padr√£o e no final da p√°gina basta clicar em Generate token.\n\n\n\nLogo ap√≥s, aparecera o token, o qual voc√™ precisa copiar (click no icone azul bem do lado do token). Esse token ser√° necess√°rio para terminar a configura√ß√£o do Git com o Rstudio.\n\n\n\nAgora escreva\n\n\nusethis::edit_r_environ()\n\n\n\nO Rstudio abrir√° um arquivo chamado .Renviron, nele escreva o token que acabou de ser gerado e depois d√™ um enter (para pular linha).\n\n\n\nSalve o arquivo e reinicie sess√£o (se preferir pode fechar o Rstudio e abri-lo de novo)\n\n\n.rs.restartR()\n\n\n\n\nPronto! Agora j√° est√° configurado.\n\nVinculando um reposit√≥rio ao Rstudio\nA forma mais f√°cil de trabalhar com um projeto no Rstudio e que este esteja vinculado ao GitHub √© clonando um repos√≠torio existente. Para isto, precisamos primeiro criar um reposit√≥rio no GitHub e depois clon√°-lo.\nCriando o reposit√≥rio no GitHUb\nNo GitHub, v√° na aba Repositories e d√™ clic em New\n\n\n\nAparecer√° a janela abaixo e voc√™ pode escolher se criar um reposit√≥rio p√∫blico ou privado e se adicionar um README ou nao. Aqui, eu escolhi a op√ß√£o privado e adicionar README. Ap√≥s escolher as op√ß√µes da sua prefer√™cia clic em Create repository.\n\n\n\nCom o reposit√≥rio criado, d√™ um clic na setinha do bot√£o Code e copie o endere√ßo que aparecer.\n\n\n\nClonando o repositorio.\nAgora estamos chegando na etapa final. Abra o Rstudio e crie um novo projeto File > New Project... e escolha a op√ß√£o Version Control.\n\n\n\nEnseguida escolha a op√ß√£o Git e preencha a op√ß√£o Repository URL com o endere√ßo que acabou de copiar do GitHub. Escolha tamb√©m onde quer criar o projeto no seu computador (no meu caso /Volumes/CTRUCIOS_SD/Research). N√£o esque√ßa marcar a op√ß√£o Open in new session.\n\n\n\n\n\n\nClicar em Create project e Pronto! Seu reposit√≥rio no GitHub e seu novo projeto do Rstudio est√£o vinculados, agora √© s√≥ escrever seus c√≥digos e fazer commits, Push and Pulls.\nBonus: commit and push\nO c√≥digo que voc√™ escrever√° no seu computador, ficar√° unicamente no seu computador. Por isso, n√£o esque√ßa fazer commit e Push de tempos em tempos para salvar no GitHub seu c√≥digo mais recente.\nPara mostrar como se fazer commit and Push, criei um arquivo chamado codigo01.R\n\n\n\nPara fazer commit, v√° na aba Git e d√™ clic na op√ß√£o Commit.\n\n\n\nAgora marque os arquivos que quer subir para o GitHub (no nosso caso, o arquivo codigo01.R) e escreva uma breve descri√ß√£o do que foi feito no c√≥digo (para voc√™ lembrar).\n\n\n\nClic em Commit e depois clic em Push.\nSe tudo deu certo, seu c√≥digo aparecer√° no seu reposit√≥rio do GitHub.\n\n\n\nNota: Se o arquivo codigo01.R n√£o aparecer no GitHub, tente fazer um Push de novo, se lhe pedir usuario e senha, coloque seu nome de usu√°rio do GitHub e quando pedir a senha coloque o token que foi gerado (no come√ßo deste post).\n\n\n\nEspero ter ajudado. Happy Coding!\n\n\n\n",
    "preview": "posts/2021-06-12-git-github-e-rstudio/im/001.png",
    "last_modified": "2021-07-24T10:25:46-03:00",
    "input_file": {},
    "preview_width": 1340,
    "preview_height": 688
  },
  {
    "path": "posts/2021-05-01-configurando-rstudio-para-usar-o-rmarkdown/",
    "title": "Configurando Rstudio para usar o Rmarkdown",
    "description": "Passo a passo de como configurar o Rstudio para fazer relat√≥rios e apresenta√ß√µes utlizando o Rmarkdown.",
    "author": [
      {
        "name": "Carlos Truc√≠os",
        "url": "https://ctruciosm.github.io"
      }
    ],
    "date": "2021-05-01",
    "categories": [
      "Rstudio",
      "Rmarkdown",
      "rstats"
    ],
    "contents": "\n\nContents\nIntrodu√ß√£o\nPasso a Passo\nConclus√µes\n\nIntrodu√ß√£o\nFazer relat√≥rios t√©cnicos, apresenta√ß√µes e escrever artigos √© parte do dia a dia tanto das pessoas envolvidas com pesquisa quanto das envolvidas com an√°lise de dados.\nFazer estas tarefas pode ser cansativo e, incluss√≠ve, levar a erros na digita√ß√£o dos resultados.\nUma forma eficiente e f√°cil de fazermos isto √© misturar a funcionalidade do R com a versatilidade de fazer relat√≥rios utilizando o Rmarkdown.\nA seguir, descreverei passo a passo como configurar o Rstudio para poder fazer apresenta√ß√µes/relat√≥rios utilizando o Rmarkdown1.\nPasso a Passo\nSe √© a primeira vez que est√° tentando fazer um relat√≥rio/apresenta√ß√£o e est√° em d√∫vida sobre como proseguir, segue um passo e passo detalhado\nPasso 1\nQuando abrir o Rstudio, ver√° uma tela semelhante com essa aqui:\n\n\n\nPasso 2\nCrie um script markdown:\n\nFile > New File > R Markdown\n\n\n\n\nAssim que criar o script aparecer√° a seguinte mensagem\n\n\n\nbasta clicar em Yes e deixar que todos os pacotes sejam instalados (voc√™ ver√° algo como a tela a seguir).\n\n\n\nPasso 3\nAp√≥s instalar todos os pacotes, tente mais uma vez criar o script\n\nFile > New File > R Markdown\n\nPor padr√£o, a op√ß√£o Document estar√° ativa e se tudo estiver certo, voc√™ ver√° na tela o seguinte:\n\n\n\nse voc√™ escolher a op√ß√£o Presentation, ver√° a seguinte:\n\n\n\nEm ambas as op√ß√µes voc√™ pode escolher como far√° o relat√≥rio/apresenta√ß√£o (html, pdf ou word/power point). Escolha a op√ß√£o PDF ou PDF (Beamer)2\nPasso 4\nIndependente da op√ß√£o escolhida (Document ou Presentation) aparecer√° um template pronto para rodar. Basta voc√™ clicar no bot√£o Knit\n\n\n\n(esse bot√£o √© para compilar tudo o escrito no seu relat√≥rio/apresenta√ß√£o e utilizar√° ele frequentemente)\nSe voc√™ for usu√°rio de Latex, j√° deve ter o miktex instalado e o Rmarkdown deveria funcionar normalmente. Caso n√£o seja usu√°rio de Latex, continue com os pr√≥ximos passos.\nPasso 5\nQuando apertar o bot√£o pela primeira vez, caso voc√™ n√£o tenha instalado antes o miktex, o arquivo n√£o compilar√° e aparecer√° algo parecido com:\n\n\n\nO que importa para n√≥s √© a seguinte mensagem:\n\n\n\nOu seja, precisamos instalar mais algumas coisinhas antes de podermos fazer apresenta√ß√µes/relat√≥rios utilizando o Rstudio.\nBasta rodar o comando\n\n\ntinytex::install_tinytex()\n\n\n\nque tudo o necess√°rio ser√° instalado (voc√™ ver√° uma janela como a seguinte)\n\n\n\nPasso 6\nAssim que a instala√ß√£o anterior tiver terminado, aparecer√° a seguinte mensagem\n\n\n\nmas n√£o se preocupe, apenas ignore.\nPasso 7\nPronto! j√° pode utilizar o Rstudio para fazer relat√≥rios. Para testar, aperte o bot√£o knit\n\n\n\ne o pdf de exemplo ser√° compilado!\n\n\n\nConclus√µes\nRstudio √© uma excelente IDE para se trabalhar com R, mas agora podemos al√©m de escrever nosso c√≥digo, fazer relat√≥rios/apresenta√ß√µes\nPara poder utilizar basta apenas seguir alguns passos simples de configura√ß√£o\nSe voc√™ j√° tiver instalado o Latex no seu computador, pode pular os passos 5 e 6, e ir direto para o passo 7\nCaso n√£o saiba o que √© Latex (isso significa que n√£o tem o Latex nem miktex instalados) n√£o se preocupe, basta seguir os passos 5 e 6 que tudo ficar√° pronto para utilizar o Rstudio para fazer relat√≥rios/apresenta√ß√µes\n\nOs passos s√£o bem intuitivos e a maioria de pessoas talvez n√£o precise deste tutorial, mas, caso algu√©m precisar, deixo aqui o passo a passo‚Ü©Ô∏é\nPode escolher qualquer outra op√ß√£o mas eu prefiro fazer em PDF. Ah, eu nunca testei a op√ß√£o word/power point mas deveria funcionar‚Ü©Ô∏é\n",
    "preview": "posts/2021-05-01-configurando-rstudio-para-usar-o-rmarkdown/im/001.png",
    "last_modified": "2021-07-24T10:25:20-03:00",
    "input_file": {},
    "preview_width": 1366,
    "preview_height": 768
  },
  {
    "path": "posts/2021-04-01-minimos-quadrados-ordinarios/",
    "title": "M√≠nimos Quadrados Ordin√°rios",
    "description": "Quando trabalhamos com modelos de regress√£o √© necess√°rio estimar os par√¢metros do modelo. Um dos m√©todos de estima√ß√£o mais conhecidos √© o estimador de m√≠nimos quadrados ordin√°rios (ou MQO para os amigos). Em este post discutiremos a necessidade de estimar os par√¢metros, entendermos a intui√ß√£o por tr√°s do m√©todo e derivaremos, passo a passo, o estimador MQO no modelo de regress√£o linear simples.",
    "author": [
      {
        "name": "Carlos Truc√≠os",
        "url": "https://ctruciosm.github.io"
      }
    ],
    "date": "2021-04-01",
    "categories": [
      "Linear Regression",
      "Proof"
    ],
    "contents": "\n\nContents\nIntrodu√ß√£o\nA intui√ß√£o por tr√°s do estimador MQO\nDerivando o estimador MQO\nPrimeira derivada\nIgualando a zero\nVerificando que √© ponto de m√≠nimo\nEstimador MQO\n\nConclus√µes\n\nIntrodu√ß√£o\nO modelo de regress√£o linear simples √© um dos modelos mais simples de Statistical Learning / Econometria. O modelo assume que a rela√ß√£o entre as vari√°veis \\(Y\\) e \\(X\\) √© dada por: \\[\\begin{equation}\\label{RLS}\nY = \\beta_0 + \\beta_1 X + u\n\\end{equation}\\] em que \\(\\beta_0\\) e \\(\\beta_1\\) s√£o os par√¢metros do modelo e \\(u\\) √© um termo aleat√≥rio.\nSe conhecermos \\(\\beta_0\\) e \\(\\beta_1\\), basta utilizar o modelo para um determinado valor de \\(X\\), digamos \\(x\\), e saberemos o valor esperado de \\(Y\\) dado \\(x\\)1.\nInfelizmente, nunca conhecemos \\(\\beta_0\\) e \\(\\beta_1\\) e ent√£o precisamos estimar esses valores utilizando os dados da nossa amostra.\nExistem v√°rios m√©todos de estima√ß√£o, mas hoje discutiremos o estimador de m√≠nimos quadrados ordin√°rios (MQO).\nA intui√ß√£o por tr√°s do estimador MQO\nSejam \\((y_1, x_1), \\ldots, (y_n, x_n)\\) os elementos de uma amostra aleaat√≥ria (a.a) de tamanho \\(n\\) extraida de \\((Y,X)\\). Estamos interessados em estimar os par√¢metros \\(\\beta_0\\) e \\(\\beta_1\\) na reta de regress√£o, mas‚Ä¶qual reta escolher?\nA Figura 1 apresenta o gr√°fico de dispers√£o de educa√ß√£o (\\(x\\)) vs.¬†renda (\\(y\\)). Como podemos ver, existem v√°rias retas (na verdade existem infinitas retas) que podemos tracejar na nossa tentativa de estimar \\(\\beta_0\\) e \\(\\beta_1\\).\n\n\n\nFigure 1: Gr√°fico de dispers√£o education vs.¬†income\n\n\n\nEntre os v√°rios crit√©rios que poder√≠amos escolher para escolher a reta, vamos escolher a reta que minimiza a soma de quadrados dos res√≠duos. Mas‚Ä¶ quem s√£o esses res√≠duos? os res√≠duos, denotados por \\(\\hat{u}_i\\), s√£o definidos como \\(\\hat{u}_i = y_i - \\hat{y_i}\\) com \\(\\hat{y}_i = b_0 + b_1x_i\\). Ou seja, independente dos valores \\(b_0\\) e \\(b_1\\) que escolhermos, os res√≠duos s√£o a diferen√ßa entre o valor verdadeiro (\\(y_i\\)) e o estimado (\\(\\hat{y}_i\\)).\nOs valores \\(b_0\\) e \\(b_1\\) que minimizem a SQR vamos denot√°-los como \\(\\hat{\\beta}_0\\) e \\(\\hat{\\beta}_1\\). Em termos matem√°ticos, queremos \\(b_0\\) e \\(b_1\\) tal que \\[\\hat{\\beta}_0, \\hat{\\beta}_1 = \\mathop{\\mathrm{argmin}}\\limits_{b_0, b_1} SQR\\] em que \\[SQR := \\displaystyle \\sum_{i=1}^n \\hat{u}_i^2 \\equiv \\displaystyle \\sum_{i=1}^n (y_i - \\hat{y}_i)^2 \\equiv \\displaystyle \\sum_{i=1}^n (y_i - b_0 - b_1 x_i)^2\\]\nDerivando o estimador MQO\nNosso problema de encontrar \\(\\hat{\\beta}_0\\) e \\(\\hat{\\beta}_1\\) resume-se, ent√£o, a um problema de minimiza√ß√£o, onde a fun√ß√£o a minimizar √© \\[SQR := \\displaystyle \\sum_{i=1}^n (\\underbrace{y_i - b_0 - b_1 x_i}_{\\hat{u}_i})^2\\]\nPara resolver nosso problema de minimiza√ß√£o vamos a lembrar um pouco das aulas de c√°lculo. Vamos a calcular a primeira derivada, igualar a zero para obter os valores candidatos e finalmente, vamos a calcular a segunda derivada para verificar que efetivamente os valores encontrados s√£o valores que minimizam a fun√ß√£o.\nPrimeira derivada\nDerivando SQR em rela√ß√£o a \\(b_0\\) temos\n\\[\\begin{equation}\n\\dfrac{\\partial SQR}{\\partial b_0}   = -2 \\displaystyle \\sum_{i=1}^n (y_i - b_0 - b_1 x_i)  = -2 n \\big( \\bar{y} - b_0 - b_1 \\bar{x} \\big).\n\\end{equation}\\]\nDerivando SQR em rela√ß√£o a \\(b_1\\) temos\n\\[\\begin{equation}\n\\dfrac{\\partial SQR}{\\partial b_1}= -2 \\displaystyle \\sum_{i=1}^n x_i (y_i - b_0 - b_1 x_i) = -2  \\Big( \\displaystyle \\sum_{i=1}^n x_i y_i - b_0 \\displaystyle \\sum_{i=1}^n x_i - b_1 \\displaystyle \\sum_{i=1}^n x_i^2 \\Big).\n\\end{equation}\\]\nIgualando a zero\nFazendo \\(\\frac{\\partial SQR}{\\partial b_0} = 0\\) e \\(\\frac{\\partial SQR}{\\partial b_1} = 0\\) temos:\n\\[\\underbrace{\\bar{y} = \\hat{\\beta}_0 + \\hat{\\beta}_1 \\bar{x}}_{A} \\quad e \\quad \\underbrace{\\displaystyle \\sum_{i=1}^n x_i (y_i - \\hat{\\beta}_0 - \\hat{\\beta}_1 x_i) = 0}_{B}\\]\n\nQuando igualamos a zero, substituimos \\(b_0\\) por \\(\\hat{\\beta}_0\\) e \\(b_1\\) por \\(\\hat{\\beta}_1\\) pois \\(\\hat{\\beta}_0\\) e \\(\\hat{\\beta}_1\\) s√£o a solu√ß√£o do sistema.\nVamos ent√£o resolver o sistema de equa√ß√µes para obter \\(\\hat{\\beta}_0\\) e \\(\\hat{\\beta}_1\\).\nDe \\(A\\) temos que \\(\\hat{\\beta}_0 = \\bar{y} - \\hat{\\beta}_1 \\bar{x}\\). Agora vamos substituir \\(\\hat{\\beta}_0\\) em \\(B\\),\n\\[\\displaystyle \\sum_{i=1}^n x_i (y_i - \\underbrace{(\\bar{y} - \\hat{\\beta}_1 \\bar{x})}_{\\hat{\\beta}_0} - \\hat{\\beta}_1 x_i) = 0\\] \\[\\displaystyle \\sum_{i=1}^n x_i(y_i-\\bar{y}) - \\hat{\\beta}_1 \\sum_{i=1}^n x_i (x_i - \\bar{x}) = 0\\]\n\\[\\displaystyle \\sum_{i=1}^n x_i(y_i-\\bar{y}) = \\hat{\\beta}_1 \\sum_{i=1}^n x_i (x_i - \\bar{x}),\\] Ent√£o, \\[\\hat{\\beta}_1 = \\dfrac{\\displaystyle \\sum_{i=1}^n x_i(y_i-\\bar{y})}{\\displaystyle \\sum_{i=1}^n x_i (x_i - \\bar{x})}.\\] Provavelmente, a f√≥rmula n√£o se parece muito com as f√≥rmulas que voc√™ est√° acostumado a ver nos livros. Vamos trabalhar um pouco com as express√µes no numerador e denominador para chegarmos a uma f√≥rmula um pouco mais conhecida.\nNo denominador:\n\\[\\displaystyle \\sum_{i=1}^n x_i (x_i-\\bar{x}) = \\sum_{i=1}^n (x_i - \\bar{x} + \\bar{x})(x_i-\\bar{x}) = \\underbrace{\\sum_{i=1}^n (x_i - \\bar{x})(x_i-\\bar{x})}_{\\displaystyle \\sum_{i=1}^n (x_i - \\bar{x})^2} + \\underbrace{\\sum_{i=1}^n  \\bar{x}(x_i-\\bar{x})}_{\\bar{x} \\displaystyle \\sum_{i=1}^n  (x_i-\\bar{x})},\\] e como \\(\\displaystyle \\sum_{i=1}^n (x_i - \\bar{x}) = \\underbrace{\\sum_{i=1}^n x_i}_{n\\bar{x}} - n \\bar{x} = 0,\\) temos que \\[\\displaystyle \\sum_{i=1}^n x_i (x_i-\\bar{x}) = \\displaystyle \\sum_{i=1}^n (x_i-\\bar{x})^2.\\] No numerador:\n\\[\\displaystyle \\sum_{i=1}^n x_i(y_i-\\bar{y}) = \\displaystyle \\sum_{i=1}^n (x_i - \\bar{x} + \\bar{x})(y_i-\\bar{y}) = \\displaystyle \\sum_{i=1}^n (x_i - \\bar{x})(y_i-\\bar{y}) + \\underbrace{\\displaystyle \\sum_{i=1}^n \\bar{x}(y_i-\\bar{y})}_{\\bar{x} \\underbrace{\\displaystyle \\sum_{i=1}^n (y_i-\\bar{y})}_{0}}\\] Ent√£o temos que, \\[\\hat{\\beta}_1 = \\dfrac{\\displaystyle \\sum_{i=1}^n (x_i - \\bar{x})(y_i-\\bar{y})}{\\displaystyle \\sum_{i=1}^n (x_i-\\bar{x})^2} \\quad e \\quad \\hat{\\beta}_0 = \\bar{y} - \\hat{\\beta}_1 \\bar{x}.\\]\nVerificando que √© ponto de m√≠nimo\nPara verificar que a solu√ß√£o obtida √© ponto de m√≠nimo, precisamos que a matriz Hessiana \\[\\begin{bmatrix} \n\\dfrac{\\partial^2 SQR}{\\partial b_0^2} & \\dfrac{\\partial^2 SQR}{\\partial b_0 \\partial b_1}  \\\\\n\\dfrac{\\partial^2 SQR}{\\partial b_1 \\partial b_0} & \\dfrac{\\partial^2 SQR}{\\partial b_1^2}  \\\\\n\\end{bmatrix}\\] seja definida positiva.\n\\(\\dfrac{\\partial^2 SQR}{\\partial b_0^2} = \\dfrac{\\partial}{\\partial b_0}\\dfrac{\\partial SQR}{\\partial b_0} = 2n\\)\n\\(\\dfrac{\\partial^2 SQR}{\\partial b_0 \\partial b_1} = \\dfrac{\\partial}{\\partial b_0}\\dfrac{\\partial SQR}{\\partial b_1} = 2n \\bar{x}\\)\n\\(\\dfrac{\\partial^2 SQR}{\\partial b_1 \\partial b_0} = \\dfrac{\\partial}{\\partial b_1}\\dfrac{\\partial SQR}{\\partial b_0} = 2n \\bar{x}\\)\n\\(\\dfrac{\\partial^2 SQR}{\\partial b_1^2} = \\dfrac{\\partial}{\\partial b_1}\\dfrac{\\partial SQR}{\\partial b_1} = 2 \\displaystyle \\sum_{i=1}^n x_i^2\\)\nLogo, a matriz Hessiana \\[\\begin{bmatrix} \n2n & 2n \\bar{x} \\\\\n2n \\bar{x} & 2 \\displaystyle \\sum_{i=1}^n x_i^2  \\\\\n\\end{bmatrix},\\] √© definida positiva pois os elementos da diagonal s√£o positivos e o determinante \\(4n\\displaystyle \\sum_{i=1}^n x_i^2 - 4n^2\\bar{x}^2 = 4n \\Big( \\sum_{i=1}^n x_i^2 - n\\bar{x}^2\\Big) = 4n \\displaystyle \\sum_{i=1}^n(x_i - \\bar{x})^2\\) √© tamb√©m positivo.\nEstimador MQO\nAssim, temos mostrado que os estimadores MQO para \\(\\beta_0\\) e \\(\\beta_1\\) no modelo de regress√£o linear simples s√£o \\[\\hat{\\beta}_1 = \\dfrac{\\displaystyle \\sum_{i=1}^n (x_i - \\bar{x})(y_i-\\bar{y})}{\\displaystyle \\sum_{i=1}^n (x_i-\\bar{x})^2} \\quad e \\quad \\hat{\\beta}_0 = \\bar{y} - \\hat{\\beta}_1 \\bar{x}.\\]\nConclus√µes\nO estimador MQO consiste em encontrar \\(\\hat{\\beta}_0\\) e \\(\\hat{\\beta}_1\\) que minimizm a soma de quadrados dos res√≠duos.\nUtilizando os crit√©rios da primeira e segunda derivada temos obtido os estimadore MQO.\nSob algumas hip√≥teses, os estimadores MQO s√£o o melhor estimador linear n√£o viesado ver Teorem de Gauss-Markov\nSe quiser saber como implementar este modelo em R e Python pode ver este post.\n\nAssumindo que \\(\\mathbb{E}(u|X) = 0\\), \\(\\mathbb{E}(Y|x) = \\beta_0 + \\beta_1 x\\)‚Ü©Ô∏é\n",
    "preview": "posts/2021-04-01-minimos-quadrados-ordinarios/derivando-o-estimador-de-mqo_files/figure-html5/MQO1-1.png",
    "last_modified": "2021-06-18T16:48:56-03:00",
    "input_file": {},
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/2021-03-14-book-review-r-for-data-science/",
    "title": "Book Review: R for Data Science",
    "description": "Minhas impress√µes do livro R for data science: import, tidy, transform, visualize, and model data do Hadley Wickham e Garrett Grolemund.",
    "author": [
      {
        "name": "Carlos Truc√≠os",
        "url": "https://ctruciosm.github.io"
      }
    ],
    "date": "2021-03-14",
    "categories": [
      "Book Review",
      "R",
      "rstats"
    ],
    "contents": "\n\nContents\nIntrodu√ß√£o\nOverview do livro\nO que menos gostei\nComent√°rios Finais\n\nIntrodu√ß√£o\nQuem me conhece um pouco, sabe que eu n√£o sou um grande f√£ de livros do tipo Hands-On blah blah, mas recentemente, buscando ajudar aos meus alunos na sua caminhada acad√™mica, resolvi incluir alguns deles na minha lista de leitura. Espero que estes coment√°rios sejam de ajuda, principalmente, para meus (ex-/atuais/futuros) alunos.\nOverview do livro\n\n\n\n\n\nR tem evolu√≠do bastante desde que foi oficialmente lan√ßado em 2001 e o livro R for data science: import, tidy, transform, visualize, and model data (Wickham and Grolemund 2016) faz um bom papel apresentando uma introdu√ß√£o ao R e √† filosofia tidyverse1 de forma clara e direta. O pacote (ou, na verdade o conjunto de pacotes) tidyverse √© sem d√∫vida a tend√™ncia hoje em dia, e qualquer pessoa que trabalha com dados o utilizar√° com frequ√™ncia.\nSugiro que √† medida que voc√™ for lendo o livro implemente os c√≥digos que forem aparecendo, dessa forma voc√™ poder√° ir mexendo gradualmente no c√≥digo para ver o que acontece se‚Ä¶ o que lhe ajudara no processo de aprendizagem.\nUm dos cap√≠tulos que mais gostei foi o cap√≠tulo 3, que apresenta de forma bem leve uma introdu√ß√£o ao pacote ggplot2 para visualiza√ß√£o de dados. Um bom complemento para esse cap√≠tulo aparece quase no final do livro, no cap√≠tulo 28, onde se apresentam alguns detalhes sobre t√≠tulos, captions e nomes nos eixos. Se voc√™ tiver interesse em se aprofundar no ggplot2, a melhor fonte √© o livro ggplot2: Elegant Graphics for Data Analysis (Hadley 2016) que est√° dispon√≠vel online e de gra√ßa aqui.\nOs cap√≠tulos 9 ‚Äì 16 apresentam bastante material sobre manipula√ß√£o de dados, super √∫til para construir nossa ABT2. Contudo, creio que quem n√£o est√° muito acostumado com o R ou com manipula√ß√£o de dados pode ter uma overdose de informa√ß√£o. N√£o se preocupe tanto por entender tudo que est√° no livro, mas por entender o que pode ser feito com o R e com os pacotes dplyr,readr, lubridate, etc, incluidos no tidyverse. Existem diversos Cheatsheets que ajudam a lembrar como cada umas das fun√ß√µes discutidos nos cap√≠tos 9‚Äì16 funcionam, salve eles no computador e tenha-os sempre por perto.\nOutro cap√≠tulo que achei muito interessante √© o cap√≠tulo 25 (mas para quem est√° iniciando eu recomendaria pular esse capitulo e voltar nele quando for um usu√°rio de R mais frequente), ele apresenta informa√ß√£o valiosa para quem tem interesse em comparar v√°rios modelos e colocar modelos em produ√ß√£o.\nO que menos gostei\nEmbora eu tenha desfrutado bastante meu tempo lendo o livro, achei os cap√≠tulos 22‚Äì24 meio confussos, principalmente para quem est√° iniciando. Quando se trata de modelagem , eu prefiro uma abordagem mais cl√°ssica onde se explica como o modelo √© construido e quais s√£o os princ√≠pios por tras dele, mas entendo que isso est√° completamente fora do escopo do livro.\nPara quem est√° come√ßando, eu leria o cap√≠tulo 21 apenas at√© a se√ß√£o 21.3. As se√ß√µes 21.4 ‚Äì 21.9 s√£o importantes, mas eu deixaria elas para uma segunda leitura ou para quando estiver mais familiarizado com o R e com programa√ß√£o.\nComent√°rios Finais\nResumindo, R for data science: import, tidy, transform, visualize, and model data (Wickham and Grolemund 2016) √© um bom livro, completo e did√°tico. Eu gostei da maioria de cap√≠tulos, com algumas poucas exce√ß√µes.\nO livro tem uma vers√£o em portugu√™s, mas eu li a vers√£o em ingl√™s (que √© disponibilizada gratuitamente pelos autores).\nSe tiver com dificuldade em resolver os exerc√≠cios do livro, Jeffrey B. Arnold providenciou um solucion√°rio (eu n√£o o li).\n\n\n\nHadley, Wickham. 2016. ggplot2: Elegrant Graphics for Data Analysis. Springer.\n\n\nWickham, Hadley, and Garrett Grolemund. 2016. R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. \" O‚ÄôReilly Media, Inc.\".\n\n\nConjunto de pacotes que seguem a mesma filosofia tidy, para mais detalhes veja tidyverse.org‚Ü©Ô∏é\nABT: Analytical Base Table‚Ü©Ô∏é\n",
    "preview": "posts/2021-03-14-book-review-r-for-data-science/cover.png",
    "last_modified": "2021-07-24T10:24:56-03:00",
    "input_file": {},
    "preview_width": 500,
    "preview_height": 750
  },
  {
    "path": "posts/2021-02-28-teorema-de-gauss-markov/",
    "title": "Teorema de Gauss-Markov",
    "description": "Uma das propriedades mais interessentes dos estimadores MQO √© fornecida pelo Teorema de Gauss-Markov. Neste post discutimos a import√¢ncia, significado e fornecemos uma demostra√ß√£o passo a passo do Teorema.",
    "author": [
      {
        "name": "Carlos Truc√≠os",
        "url": "https://ctruciosm.github.io"
      }
    ],
    "date": "2021-02-28",
    "categories": [
      "Linear Regression",
      "Proof"
    ],
    "contents": "\n\nContents\nIntrodu√ß√£o\nTeorema\nDemostra√ß√£o\nConclus√£o\n\nIntrodu√ß√£o\n\n\n\nO estimador de m√≠nimos quadrados ordin√°rios (MQO) √© um dos m√©todos de estima√ß√£o mais utilizados quanto √† analise de regress√£o se refere. Ele √© atrativo pela sua simplicidade e boas propriedades.\nSejam \\(\\{(y_i, x_{i,1}, \\ldots, x_{i,k}) \\}_{i=1, \\ldots, n}\\) tais que:\n\\[\\begin{align}\n\\begin{split}\\label{eq:1}\n    y_1 &= \\beta_0 + \\beta_1 x_{1,1}  + \\cdots + \\beta_k x_{1,k} + u_1 \\\\\n    \\vdots \\\\\n    y_n &= \\beta_0 + \\beta_1 x_{n,1}  + \\cdots + \\beta_k x_{n,k} + u_n \\\\\n\\end{split}\n\\end{align}\\]\nou equivalentemente\n\\[ \\underbrace{\\left[ \\begin{array}{c} y_1 \\\\ \\vdots \\\\ y_n \\end{array} \\right]}_{Y} = \\underbrace{\\begin{bmatrix} \n1 & x_{1,1} & \\cdots & x_{1,k} \\\\ \n\\vdots & \\vdots & \\cdots & \\vdots \\\\ \n1 & x_{n,1} & \\cdots & x_{n,k} \\end{bmatrix}}_{X} \\times \\underbrace{\\left[ \\begin{array}{c} \\beta_0 \\\\ \\vdots \\\\ \\beta_k \\end{array} \\right]}_{\\beta} + \\underbrace{\\left[ \\begin{array}{c} u_1 \\\\ \\vdots \\\\ u_n \\end{array} \\right]}_{u}\\]\nent√£o, o estimador MQO de \\(\\beta\\) √© dado por \\(\\hat{\\beta} = (X'X)^{-1}X'Y\\).\nSob certas condi√ß√µes, o Teorema de Gauss-Markov nos diz que \\(\\hat{\\beta}\\) √© o melhor estimador linear n√£o viesado (BLUE em Ingl√™s):\nEle √© linear1 pois \\(\\hat{\\beta} = (X'X)^{-1}X'Y\\) (basta fazer \\(A' = (X'X)^{-1}X'\\)).\nEle √© n√£o viesado pois \\(\\mathbb{E}(\\hat{\\beta}) = \\beta\\) e\nEle √© o melhor, pois possui a menor vari√¢ncia entre todos os outros estimadores lineares n√£o viesados.\nTeorema\nSeja \\(Y = X \\beta + u\\) com \\(X\\) de posto completo, \\(\\mathbb{E}(u|X) = 0\\) e \\(\\mathbb{V}(u|X) = \\sigma^2 I\\). Ent√£o \\(\\hat{\\beta}\\), o estimador MQO de \\(\\beta\\), √© o melhor estimador linear n√£o viesado (BLUE) de \\(\\beta\\).\nNote que o Teorema requer que:\nO modelo populacional seja da forma \\(Y = X \\beta + u\\)\n\\(X\\) seja de posto completo (ou seja n√£o existe colineariedade perfeita)\n\\(\\mathbb{E}(u|X) = 0\\)\n\\(\\mathbb{V}(u|X) = \\sigma^2 I\\)\nEssas condi√ß√µes s√£o √†s vezes conhecidas como as hip√≥teses de Gauss‚ÄìMarkov. Se alguma das hip√≥teses de Gauss‚ÄìMarkov n√£o for valida, ent√£o \\(\\hat{\\beta}\\) n√£o ser√° mais BLUE.\n\nOu seja Teorema de Gauss-Markov nos diz que se as condi√ß√µes do Teorema forem satisfeitas, n√£o adianta buscar por algum outro estimador linear n√£o viesado, pois \\(\\hat{\\beta}\\) ser√° o melhor (de menor vari√¢ncia).\n\nDemostra√ß√£o\nSeja \\(\\tilde{\\beta}\\) qualquer outro estimador linear n√£o viesado de \\(\\beta\\).\nComo \\(\\tilde{\\beta}\\) √© um estimador linear, ele √© da forma \\(\\tilde{\\beta} = A'Y\\) (para qualquer matriz \\(A\\) de dimens√£o \\(n \\times k+1\\) fun√ß√£o de \\(X\\).).\nComo \\(\\tilde{\\beta}\\) √© n√£o viesado, temos que \\(A'X = I\\) pois \\[\\begin{equation}\n\\begin{aligned}\n\\mathbb{E}(\\tilde{\\beta} | X)  & =  \\mathbb{E}(A'Y | X)\\\\\n                   & =  \\mathbb{E}(A' (X\\beta + u) | X) \\\\\n                   & =  \\mathbb{E}(A'X\\beta|X) + \\mathbb{E}(u|X) \\\\\n                   & =  \\mathbb{E}(A'X\\beta|X) \\quad \\text{pois } \\mathbb{E}(u|X) = 0 \\\\\n                   & =  A'X \\beta, \n\\end{aligned}\n\\end{equation}\\] que √© n√£o viesado se e somente se \\(A'X = I\\)\nA vari√¢ncia de \\(\\tilde{\\beta}\\) (condicional em \\(X\\)) √© \\[\\begin{equation}\n\\begin{aligned}\n\\mathbb{V}(\\tilde{\\beta}|X) & =  \\mathbb{V}(A'Y|X) \\\\\n                & =  A'\\mathbb{V}(Y|X)A \\\\\n                & =  A'\\mathbb{V}(X \\beta + u|X)A \\\\\n                & =  A'\\mathbb{V}(u|X)A \\\\\n                & =  A'\\sigma^2 I A \\\\\n                & =  \\sigma^2 A'A \\\\\n\\end{aligned}\n\\end{equation}\\]\nDefinamos \\(C = A - X(X'X)^{-1}\\), ent√£o \\(X'C = \\underbrace{X'A}_{I}-\\underbrace{X'X(X'X)^{-1}}_{I} = 0\\)\nSabemos que \\(\\mathbb{V}(\\hat{\\beta}|X) = \\sigma^2 (X'X)^{-1}\\). Ent√£o basta provar que \\(\\mathbb{V}(\\tilde{\\beta}|X) - \\mathbb{V}(\\hat{\\beta}|X)\\) √© semi-definida positiva, ou seja \\[A'A-(X'X)^{-1} \\geq 0.\\] Para provar isto vejamos que \\[\\begin{equation}\n\\begin{aligned}\nA'A-(X'X)^{-1} & =  [C+X(X'X)^{-1}]'[C+X(X'X)^{-1}] -(X'X)^{-1} \\\\\n            & =  [C'+ (X'X)^{-1} X'] [C+X(X'X)^{-1}] -(X'X)^{-1} \\\\\n            & =  C'C +  \\underbrace{C' X}_{0}(X'X)^{-1} + (X'X)^{-1} \\underbrace{X'C}_{0} \\\\ &  + (X'X)^{-1} \\underbrace{X' X(X'X)^{-1}}_{I} -(X'X)^{-1}\\\\\n            & =  C'C + (X'X)^{-1} -(X'X)^{-1} \\\\\n            & =  C'C \\geq 0.\\\\\n\\end{aligned}\n\\end{equation}\\]\nCom isso temos provado que \\(A'A \\geq (X'X)^{-1}\\) ou equivalentemente, \\[\\underbrace{\\sigma^2 A'A}_{\\mathbb{V}(\\tilde{\\beta}|X)} \\geq \\underbrace{\\sigma^2 (X'X)^{-1}}_{\\mathbb{V}(\\hat{\\beta}|X)},\\] que √© o que queremos demostrar.\n\\(C'C\\) √© de fato semi-definida positiva, veja Teorema A.4 em (Hansen 2020) ou 10.10 em (Seber 2008).\nConclus√£o\nSob as hip√≥teses de Gauss-Markov, temos demostrado que o estimador de MQO, \\(\\hat{\\beta}\\), amplamente utilizado em an√°lise de regress√£o √© o melhor estimador linear n√£o viesdado. Isto significa que se as hip√≥teses de Gauss-Markov s√£o verificadas, n√£o conseguiremos um estimador linear que seja melhor (menor vari√¢ncia) do que \\(\\hat{\\beta}\\).\n\n\n\nHansen, Bruce E. 2020. Econometrics. Online version. Wisconsin.\n\n\nSeber, George AF. 2008. A Matrix Handbook for Statisticians. Vol. 15. John Wiley & Sons.\n\n\nUm estimador linear √© um estimador da forma \\(\\tilde{\\beta} = A'Y\\) para uma matriz \\(A\\) de dimens√£o \\(n \\times k+1\\) fun√ß√£o de \\(X\\).‚Ü©Ô∏é\n",
    "preview": {},
    "last_modified": "2021-06-18T16:48:56-03:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-02-25-intro-regressao-linear/",
    "title": "Intro √† Regress√£o Linear",
    "description": "Uma breve introdu√ß√£o √† An√°lise de Regress√£o Linear: interpreta√ß√£o e implementa√ß√£o no R (e no Python).",
    "author": [
      {
        "name": "Carlos Truc√≠os",
        "url": "https://ctruciosm.github.io"
      }
    ],
    "date": "2021-02-25",
    "categories": [
      "Linear Regression",
      "R",
      "Python",
      "rstats"
    ],
    "contents": "\n\nContents\nIntrodu√ß√£o\nEstima√ß√£o por MQO\nImplementa√ß√£o no R\nInterpreta√ß√£o\nConclus√µes\nBonus\n\nIntrodu√ß√£o\nUma das t√©cnicas mais conhecidas e difundidas no mundo de statistical/machine learning √© a An√°lise de Regress√£o Linear (ARL). Ela √© √∫til quando estamos interessados em explicar/predizer a vari√°vel dependente \\(y\\) utilizando um conjunto de \\(k\\) variaveis explicativas \\(x_1, \\ldots, x_k\\).\nBasicamente, utilizamos as \\(k\\) vari√°veis explicativas para entender o comportamento de \\(y\\) e, num contexto de regress√£o linear, assumimos que a rela√ß√£o entre \\(y\\) e as \\(x\\)‚Äôs √© dada por uma fun√ß√£o linear da forma:\n\\[y = \\underbrace{\\beta_0 + \\beta_1 x_1 + \\ldots + \\beta_k x_k}_{f(x_1, \\ldots, x_k)} + u,\\] em que \\(u\\) √© o termo de erro.\nEstima√ß√£o por MQO\nNa pr√°tica, nunca conhecemos \\(\\beta = [\\beta_0, \\beta_1, \\ldots, \\beta_k]'\\) e temos que estima esses valores utilizando os dados. Existem diferentes m√©todos de estima√ß√£o, sendo o m√©todo de m√≠nimos quadraros ordin√°rios (MQO) um dos mais comumente utilizados1.\nO estimador de MQO √© dado por \\[\\hat{\\beta} = (X'X)^{-1}X'Y,\\] e sua respectiva matriz de covari√¢ncia (condicional em \\(X\\)) √© dada por \\[V(\\hat{\\beta}|X) = \\sigma^2(X'X)^{-1}\\] em que \\(Y = [y_1, \\ldots, y_n]'\\) e \\(X = \\begin{bmatrix} 1 & x_{1,1} & \\cdots & x_{1,k} \\\\ \\vdots & \\vdots & \\cdots & \\vdots \\\\ 1 & x_{n,1} & \\cdots & x_{n,k} \\end{bmatrix}\\)\n\\(\\sigma^2\\) nunca √© conhecido, ent√£o utilizamos \\(\\hat{\\sigma}^2 = \\dfrac{ \\sum_{i=1}^n \\hat{u}_i^2}{n-k-1}\\), que √© um estimador n√£o viesado de \\(\\sigma^2\\) (\\(E(\\hat{\\sigma}^2) = \\sigma^2\\)).\nAssim, na pr√°tica n√≥s sempre utilizamos \\(\\widehat{V}(\\hat{\\beta}|X) = \\hat{\\sigma}^2(X'X)^{-1}\\) no lugar de \\(V(\\hat{\\beta}|X)\\).\nO desvio padr√£o, geralmente reportados pelos softwares estat√≠sticos/econom√©tricos, √© a raiz quadrada dos elementos na diagonal de \\(\\widehat{V}(\\hat{\\beta}|X)\\).\nO Teorema de Gaus‚ÄìMarkov estabelece que, sob algumas hip√≥teses (conhecidas como as hip√≥teses de Gauss-Markov), \\(\\hat{\\beta}\\) √© o melhor estimador linear n√£o viesado (BLUE em ingl√™s: Best Linear Unbiased Estimator), ou seja, para qualquer outro estimador linear2 \\(\\tilde{\\beta}\\), \\[V(\\tilde{\\beta}|X) \\geq V(\\hat{\\beta}|X).\\]\nA Figura 1 mostra um exemplo de uma reta de regress√£o \\(\\hat{y} = \\hat{\\beta}_0 + \\hat{\\beta}_1 x\\) obtida pelo m√©todo de MQO.\n\n\n\nFigure 1: OLS regression line example\n\n\n\nImplementa√ß√£o no R\nRealizar uma regress√£o linear no R n√£o √© dif√≠cil, para ver como faze-lo utilizaremos o conjunto de dados hprice1 dispon√≠vel no pacote wooldridge do R.\nSe assumirmos que o modelo populacional √© da forma \\[price = \\beta_0 + \\beta_1 bdrms + \\beta_2 lotsize +  \\beta_3 sqrft + \\beta_4 colonial + u,\\] utilizamos o seguintes comandos\n\n\nlibrary(wooldridge)\nmodelo = lm(price~bdrms+lotsize+sqrft+colonial, data = hprice1)\nmodelo\n\n\n\nCall:\nlm(formula = price ~ bdrms + lotsize + sqrft + colonial, data = hprice1)\n\nCoefficients:\n(Intercept)        bdrms      lotsize        sqrft     colonial  \n -24.126528    11.004292     0.002076     0.124237    13.715542  \n\nO output anterior apenas mostra os \\(\\hat{\\beta}\\)‚Äôs, um output mais completo, que inclui o desvio padr√£o dos \\(\\hat{\\beta}\\)‚Äôs, o teste T, teste F, \\(R^2\\) e p-valores pode ser facilmente obtido utilizando a fun√ß√£o summary( ).\n\n\nsummary(modelo)\n\n\n\nCall:\nlm(formula = price ~ bdrms + lotsize + sqrft + colonial, data = hprice1)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-122.268  -38.271   -6.545   28.210  218.040 \n\nCoefficients:\n              Estimate Std. Error t value Pr(>|t|)    \n(Intercept) -2.413e+01  2.960e+01  -0.815  0.41741    \nbdrms        1.100e+01  9.515e+00   1.156  0.25080    \nlotsize      2.076e-03  6.427e-04   3.230  0.00177 ** \nsqrft        1.242e-01  1.334e-02   9.314 1.53e-14 ***\ncolonial     1.372e+01  1.464e+01   0.937  0.35146    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 59.88 on 83 degrees of freedom\nMultiple R-squared:  0.6758,    Adjusted R-squared:  0.6602 \nF-statistic: 43.25 on 4 and 83 DF,  p-value: < 2.2e-16\n\nInterpreta√ß√£o\nAntes de interpretar os resultados √© importante e necess√°rio conhecer os dados e saber quais as unidades de medida das nossas vari√°veis3.\nPara darmos uma olhada nos dados utilizaremos as fun√ß√µes select( ) e glimpse( ) do pacote dplyr.\n\n\nlibrary(dplyr)\nhprice1 %>% select(price, bdrms, lotsize, sqrft, colonial) %>% glimpse()\n\n\nRows: 88\nColumns: 5\n$ price    <dbl> 300.000, 370.000, 191.000, 195.000, 373.000, 466.27‚Ä¶\n$ bdrms    <int> 4, 3, 3, 3, 4, 5, 3, 3, 3, 3, 4, 5, 3, 3, 3, 4, 4, ‚Ä¶\n$ lotsize  <dbl> 6126, 9903, 5200, 4600, 6095, 8566, 9000, 6210, 600‚Ä¶\n$ sqrft    <int> 2438, 2076, 1374, 1448, 2514, 2754, 2067, 1731, 176‚Ä¶\n$ colonial <int> 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1, 1, 0, ‚Ä¶\n\n\nO pacote dplyr √© utilizado para manipula√ß√£o de dados. A fun√ß√£o select( ) seleciona algumas das variaveis contidas em hprice1 e a fun√ß√£o glimpse ( ) nos permite ver rapidamente a estrutura dos dados.\nA descri√ß√£o das vari√°veis √© apresentada a seguir e ela pode ser obtida utilizando diretamente os comandos help(hprice1) ou ?hprice1.\nVari√°vel\nDescri√ß√£o\nprice\npre√ßo da casa (em milhares de d√≥lares)\nbdrms\nn√∫mero de quartos\nlotsize\ntamanho do lote da casa (em p√©s\\(^2\\))\nsqrft\ntamanho da casa (em p√©s\\(^2\\))\ncolonial\nDummy (=1 se a casa for de estilo colonial)\nConhecendo melhor os dados, vamos ent√£o interpretar os resultados:\n\\(\\approx 66\\%\\) da variabilidade do pre√ßo (price) √© explicada pelo nosso modelo4.\nUtilizando as estat√≠sticas T (\\(H_0: \\beta_i = 0 \\quad \\text{vs.} \\quad H_1: \\beta_i \\neq 0\\)) apenas lotsize e sqrft s√£o estat√≠sticamente significativas (i.e. rejeitamos \\(H_0\\)) ao n√≠vel de signific√¢ncia de 5%.\nO incremento em 481 p√©s\\(^2\\) (p√©s quadrados) no lote da casa, implica, em m√©dia, um incremento de mil d√≥lares5 no pre√ßo da casa (permanecendo fixos os outros fatores).\nO incremente em 8 p√©s\\(^2\\) no tamanho da casa, implica, em √©dia, um incremento de mil d√≥lares6 no pre√ßo da casa (permanecendo fixos os outros fatores).\nFinalmente, summary( ) tamb√©m fornece informa√ß√£o para testar conjuntamente \\[H_0: \\beta_{bdrms}=0,\\beta_{lotsize}=0,\\beta_{sqrft}=0,\\beta_{colonial}=0\\] vs.¬†\\[H_1: H_0 \\text{ is not true. }\\] Utilizando o teste F, rejeitamos \\(H_0\\) (p-valor \\(\\approx\\) 0, F-statistics = 43.25)\n\nObviamente, nossa interpreta√ß√£o foi realizada assumindo que as hip√≥teses do modelo linear cl√°ssico s√£o satisfeitas. Se as hip√≥teses n√£o s√£o satisfeitas, precisamos melhoras/corrigir nosso modelo e apenas interpretar os resultados quando as hip√≥teses do modelo linear cl√°ssico forem verificadas.\n\nNo livro do Wooldridge7 encontramos uma interessante discuss√£o sobre como interpretar os \\(\\beta\\)‚Äôs quando utilizamos ou n√£o transforma√ß√µes logaritmicas. A seguinte Tabela apresenta um resumo dessa discuss√£o e fornece uma guia para melhor interpretarmos os resultados\nVari√°vel dependente\nVari√°vel independente\nInterpreta√ß√£o do \\(\\beta\\)\n\\(y\\)\n\\(x\\)\n\\(\\Delta y = \\beta \\Delta x\\)\n\\(y\\)\n\\(\\log(x)\\)\n\\(\\Delta y = \\big(\\beta/100 \\big) \\% \\Delta x\\)\n\\(\\log(y)\\)\n\\(x\\)\n\\(\\% \\Delta y = 100\\beta \\Delta x\\)\n\\(\\log(y)\\)\n\\(\\log(x)\\)\n\\(\\% \\Delta y = \\beta \\% \\Delta x\\)\nConclus√µes\nARL √© um m√©todos estat√≠stico (econom√©trico, de machine/statiscal learning) poderoso e facil de implementar, ele pode fornecer insights importantes sobre nossos dados (e consequentemente sobre nosso neg√≥cio).\nR fornece uma forma facil de utilizar regress√£o linear e fornece tamb√©m informa√ß√£o √∫til para sua interpreta√ß√£o. Contudo, √© importante tomar cuidado sobre as hip√≥teses assumidas no modelo (que √© o t√≥pico do nosso pr√≥ximo post), a n√£o verifica√ß√£o das hip√≥teses pode ter um forte impacto nos resultados obtidos.\nBonus\nImplementa√ß√£o em Python\n\nimport statsmodels.api as sm\nimport pandas as pd\nfrom patsy import dmatrices\n\nurl = \"https://raw.githubusercontent.com/ctruciosm/statblog/master/datasets/hprice1.csv\"\nhprice1 = pd.read_csv(url)\n\ny, X = dmatrices('price ~ bdrms + lotsize + sqrft + colonial', \n                  data = hprice1, return_type = 'dataframe')\n# Definir o modelo\nmodelo = sm.OLS(y, X)\n# Ajustar (fit) o modelo\nmodelo_fit = modelo.fit()\n# Resultados completos do modelo\nprint(modelo_fit.summary())\n                            OLS Regression Results                            \n==============================================================================\nDep. Variable:                  price   R-squared:                       0.676\nModel:                            OLS   Adj. R-squared:                  0.660\nMethod:                 Least Squares   F-statistic:                     43.25\nDate:                S√°b, 24 Jul 2021   Prob (F-statistic):           1.45e-19\nTime:                        10:24:23   Log-Likelihood:                -482.41\nNo. Observations:                  88   AIC:                             974.8\nDf Residuals:                      83   BIC:                             987.2\nDf Model:                           4                                         \nCovariance Type:            nonrobust                                         \n==============================================================================\n                 coef    std err          t      P>|t|      [0.025      0.975]\n------------------------------------------------------------------------------\nIntercept    -24.1265     29.603     -0.815      0.417     -83.007      34.754\nbdrms         11.0043      9.515      1.156      0.251      -7.921      29.930\nlotsize        0.0021      0.001      3.230      0.002       0.001       0.003\nsqrft          0.1242      0.013      9.314      0.000       0.098       0.151\ncolonial      13.7155     14.637      0.937      0.351     -15.397      42.828\n==============================================================================\nOmnibus:                       24.904   Durbin-Watson:                   2.117\nProb(Omnibus):                  0.000   Jarque-Bera (JB):               45.677\nSkew:                           1.091   Prob(JB):                     1.21e-10\nKurtosis:                       5.774   Cond. No.                     6.43e+04\n==============================================================================\n\nNotes:\n[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.\n[2] The condition number is large, 6.43e+04. This might indicate that there are\nstrong multicollinearity or other numerical problems.\n\n\nA ideia b√°sica deste m√©todo √© encontrar os valores \\(\\hat{\\beta}\\)‚Äôs que minimizam a soma de quadrados dos residuos.‚Ü©Ô∏é\nUm estimador linear √© um estimador da forma \\(\\tilde{\\beta} = A'Y\\) em que a matrix \\(A\\) √© uma matriz de dimens√£o \\(n \\times k+1\\) fun√ß√£o de \\(X\\)‚Ü©Ô∏é\nNa pr√°tica, antes de ajustar a reta de regress√£o √© feita uma an√°lise explorat√≥ria de dados (EDA em ingl√™s). Nessa EDA j√° conheceremos melhor as vari√°veis com as que estamos trabalhando, bem como as unidades de medida.‚Ü©Ô∏é\nGeralmente, preferimos o \\(R^2_{Adjusted}\\) ao \\(R^2\\)‚Ü©Ô∏é\n\\(2.076e-03*481 = 0.998556 \\approx 1\\)‚Ü©Ô∏é\n\\(0.1242*8 = 0.9936 \\approx 1\\)‚Ü©Ô∏é\nWooldridge, J. M. (2016). Introdu√ß√£o √† Econometria: Uma abordagem moderna. Cengage.‚Ü©Ô∏é\n",
    "preview": "posts/2021-02-25-intro-regressao-linear/uma-introduo-regresso-linear_files/figure-html5/unnamed-chunk-1-1.png",
    "last_modified": "2021-07-24T10:24:28-03:00",
    "input_file": {},
    "preview_width": 1536,
    "preview_height": 768
  }
]
